class Solution {
public:
    uint32_t reverseBits(uint32_t n) {
        n = ((n & (0xff << 24)) >> 24) |
            ((n & (0xff << 16)) >> 8) |
            ((n & (0xff << 8)) << 8) |
            ((n & (0xff << 0)) << 24);

        uint8_t *p = (uint8_t*)&n;
        for (int i = 0; i < 4; i++) {
            p[i] = ((p[i] & (1 << 7)) >> 7) |
                   ((p[i] & (1 << 6)) >> 5) |
                   ((p[i] & (1 << 5)) >> 3) |
                   ((p[i] & (1 << 4)) >> 1) |
                   ((p[i] & (1 << 3)) << 1) |
                   ((p[i] & (1 << 2)) << 3) |
                   ((p[i] & (1 << 1)) << 5) |
                   ((p[i] & (1 << 0)) << 7);
        }
        return n;
    }
};
